請使用 go, 幫我使用 websocket 實作一個聊天室後端的功能。

需求如下:

1. 可以透過 API, 在資料庫中建立聊天室, 聊天室可以設定為公開或是分公開, 如果是非公開的聊天室, 要輸入密碼
2. 使用者可以輸入聊天室的房間號以及密碼, 進到聊天室中與其他人進行對話

技術架構:

1. 使用 Gin
2. 使用 Gorm
3. 使用 PostgresQL DB
4. 請使用 watermill 幫我設計 db 讀寫分離的架構, 讓我未來可以擴展
